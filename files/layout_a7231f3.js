;/*!/common/widgets/common/config.js*/
define("common/widgets/common/config",["require","exports","module","common/components/netty-socketio/socket.io"],function(require,exports,module){"use strict";function c(c){$.ajax({url:GLOBAL_DOMAIN.baseURL+"/project/getUnreadCount.json?userId="+(window.GLOBAL_DOMAIN?GLOBAL_DOMAIN.userId:0)+"&pageUrl="+encodeURIComponent(location.href),dataType:"jsonp",jsonp:"jsoncallback",success:function(a){a.count&&parseInt(a.count)>0?$("#lgfree_head .jobs_tips").removeClass("dn"):$("#lgfree_head .jobs_tips").addClass("dn"),"function"==typeof c&&c(a)},error:function(c){console.log("获取我的工作未读消息失败："+c.errMsg)}})}function a(c){$.ajax({url:GLOBAL_DOMAIN.baseURL+"/im/getUnreadCount.json?userId="+(window.GLOBAL_DOMAIN?GLOBAL_DOMAIN.userId:0)+"&pageUrl="+encodeURIComponent(location.href),dataType:"jsonp",jsonp:"jsoncallback",success:function(a){a.count&&parseInt(a.count)>0?(parseInt(a.count)>99?$("#lgfree_head .im_tips").html(99).addClass("more"):$("#lgfree_head .im_tips").html(a.count).removeClass("more"),$("#lgfree_head .im_tips").removeClass("dn")):$("#lgfree_head .im_tips").addClass("dn"),"function"==typeof c&&c(a)},error:function(c){console.log("获取IM未读消息失败："+c.errMsg)}});var a=h.connect("https://propush.lagou.com/push",{path:"/push","force new connection":!0,reconnection:!0,reconnectionDelay:2e3,reconnectionDelayMax:5e3,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket","polling"]});a.on("message",function(c){var a=null;c=JSON.parse(c),"IM_UNREAD_MESSAGE_NUM"===c.type&&(a=c.content,a&&parseInt(a)>0?(parseInt(a)>99?$("#lgfree_head .im_tips").html(99).addClass("more"):$("#lgfree_head .im_tips").html(a).removeClass("more"),$("#lgfree_head .im_tips").removeClass("dn")):$("#lgfree_head .im_tips").addClass("dn"))})}function _(c,a){$.ajax({url:GLOBAL_DOMAIN.baseURL+'/im/createSession.json?req={"rivalId":'+c.toUserId+',"projectId":'+c.projectId+"}",success:function(c){0===c.errCode?"function"==typeof a?a(c):($("body").append('<form class="dn" id="sessionForm" action="'+GLOBAL_DOMAIN.baseURL+'/im/imessage.html" method="post"><input type="text" name="sessionId" value="'+c.sessionId+'"></form>'),$("#sessionForm").submit(),$("#sessionForm").remove()):alert(c.errMsg)},error:function(c){alert(c.errMsg)}})}function g(c){if(c&&c.mainTips){$("#confirm_panel").remove();var a='<div id="confirm_panel" class="confirm_panel"><p>'+c.mainTips+"</p>";c.subTips&&(a+='<p class="tips_txt">'+c.subTips+"</p>"),a+='<div class="btn_cont"><input class="confirm_btn" type="button" value="'+(c.successBtnTxt||"确认")+'">',c.cancelBtnTxt&&(a+='<input class="cancel_btn" type="button" value="'+c.cancelBtnTxt+'">'),a+="</div></div>";var _=$(a);c.addedClass&&_.addClass(c.addedClass),c.parent?$(c.parent).append(_):$("body").append(_),$("#confirm_panel .confirm_btn").off("click").on("click",function(){"function"==typeof c.success&&c.success(),$(this).off("click"),$("#confirm_panel").remove()}),c.cancelBtnTxt&&$("#confirm_panel .cancel_btn").off("click").on("click",function(){"function"==typeof c.cancel&&c.cancel(),$(this).off("click"),$("#confirm_panel").remove()})}}function I(c){$("body").append('<div class="common_tips"><i class="icon-checked"></i>'+c+"</div>"),clearTimeout(y),y=setTimeout(function(){$(".common_tips").remove()},3e3)}var h=require("common/components/netty-socketio/socket.io"),v={developing:"攻城狮正在夜以继日地赶工",applySucc:"申请意向发送成功，请耐心等待回复",commentSucc:"发表评价成功，感谢你的评价"},b={joinStatus:["自由职业","兼职","团队/工作室"],projectStatus:["招募中","执行中","待验收","待评价","已完成","已关闭"],liked:["没有倾向","个人","团队/工作室"]},y=null;module.exports={data:b,tips:v,showTips:I,showConfirm:g,getUnreadMyjobCount:c,getUnreadIMCount:a,createSession:_}});
;/*!/common/widgets/header_c/modules/topnav/main.js*/
define("common/widgets/header_c/modules/topnav/main",["require","exports","module","common/widgets/common/config"],function(require){var a=require("common/widgets/common/config");GLOBAL_DOMAIN.userId&&(a.getUnreadMyjobCount(),a.getUnreadIMCount());var c=null,v=null;$(".user_container").on("mouseenter",function(){$(".app_qrcode").removeClass("active"),clearTimeout(c),$(".head_slide_down").removeClass("dn")}).on("mouseleave",function(){c=setTimeout(function(){$(".head_slide_down").addClass("dn")},300)}),$(".app_qrcode").on("mouseenter",function(){$(".head_slide_down").addClass("dn"),clearTimeout(v),$(this).addClass("active")}).on("mouseleave",function(){var a=this;v=setTimeout(function(){$(a).removeClass("active")},300)})});
;/*!/common/widgets/header_c/layout/main.js*/
define("common/widgets/header_c/layout/main",["require","exports","module","common/widgets/header_c/modules/topnav/main"],function(require){require("common/widgets/header_c/modules/topnav/main")});
;/*!/common/widgets/footer_c/layout/main.js*/
define("common/widgets/footer_c/layout/main",["require","exports","module"],function(){var c=null,a=0,h="footer";$(window).resize(function(){clearTimeout(c),c=setTimeout(function(){a=0,$("body").children("div:visible").each(function(){"absolute"!==$(this).css("position")&&"fixed"!==$(this).css("position")&&this.id!==h&&(a+=$(this).outerHeight(!0))}),a+$("#"+h).outerHeight(!0)<$(window).height()?$("#"+h).addClass("fixed_footer"):$("#"+h).removeClass("fixed_footer"),$("#"+h).removeClass("dn")},300)}),$(window).trigger("resize")});
;/*!/common/widgets/passport/passport.js*/
define("common/widgets/passport/passport",["require","exports","module","common/components/rgrove-lazyload/lazyload","dep/blueimp-md5/js/md5"],function(require){function a(a){var c=top.location,F={protocol:c.protocol.substring(0,c.protocol.length-1),hostname:c.hostname,port:c.port||"80"},g=y.exec(a.url);if(g&&g.length){var v={protocol:g[1],hostname:g[2],port:g[3]||"80"};(F.protocol!=v.protocol||F.hostname!=v.hostname||F.port!=v.port)&&(a.dataType="jsonp",a.jsonp="jsoncallback")}}function c(){D.tinfo("Resource Ready!"),T=!0}function F(a,c){var F=a+"_"+c;$("#"+F).remove(),D.tinfo("Iframe "+F+" removed")}require("common/components/rgrove-lazyload/lazyload"),window.md5=require("dep/blueimp-md5/js/md5");var g=!1,v="1.0.2",_=0,h={remote:{}},y=/^(https?):\/\/((?:[\u4E00-\u9FA5a-z0-9.-]|%[0-9A-F]{2}){2,})(?::(\d+))?((?:\/(?:[a-z0-9-._~!$&'()*+,;=:@]|%[0-9A-F]{2})*)*)(?:\?((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?(?:#((?:[a-z0-9-._~!$&'()*+,;=:\/?@]|%[0-9A-F]{2})*))?$/i,b={server:"https://passport.lagou.com",poplogin:"/login/login.json",poptransfer:"/ajaxLogin/frameGrant.html",autologin:"/ajaxLogin/login.html"},w={popup:""},j={jq:"https://"+GLOBAL_CDN_DOMAIN+"/parttime-jobs/static/common/widgets/passport/dep/jquery.min_7506461.js",jqv:"https://"+GLOBAL_CDN_DOMAIN+"/parttime-jobs/static/common/widgets/passport/dep/jquery.validate.min_667e43d.js",lagou:"https://"+GLOBAL_CDN_DOMAIN+"/parttime-jobs/static/common/widgets/passport/js/lagou_2b9338a.js",cb:"https://"+GLOBAL_CDN_DOMAIN+"/parttime-jobs/static/common/widgets/passport/dep/jquery.colorbox-min_edc8596.js",jsf:"https://"+GLOBAL_CDN_DOMAIN+"/parttime-jobs/static/common/widgets/passport/dep/json2_447d615.js"},D={rpc:function(c){if(c.url){c.type||(c.type="POST"),c.params||(c.params={});var F=arguments.callee;D.tinfo("Start passport.rpc: "+c.url);var g={type:c.type,data:c.params,url:c.url,dataType:"json"};a(g),$.ajax(g).done(function(a,g){return D.tinfo("passport.rpc.succ: "+g),"10001"==a.state?void PASSPORT.remote(a.content.data.crossServiceUrl,function(){D.tinfo("passport.rpc.remote.succ"),F(c)},function(a){D.tinfo("passport.rpc.remote.fail"),c.fail&&c.fail.apply(null,[a])}):void(c.succ&&c.succ.apply(null,arguments))}).fail(function(a,F){D.tinfo("passport.rpc.fail: "+F),c.fail&&c.fail.apply(null,arguments)})}},getTargetUrl:function(a,c){var F={fl:void 0!=c.fl?c.fl:!0,service:c.service,osc:c.osc,ofc:c.ofc,pfurl:D.getCurEncodeUrl()};return a+"?"+$.param(F)},getCurEncodeUrl:function(){return encodeURIComponent(document.URL)},createIframe:function(a,c){var F='<iframe src="'+c+'" id="'+a+"_"+_+'" style="display:none;"></iframe>';$("body").append(F),_++},requester:function(a,c){a.dataType=a.dataType||"json",a.type=a.type||"POST",a.data=a.data||{},$.ajax(a).done(function(a){c&&c(a)})},strFormat:function(a,c){a=String(a);var F=Array.prototype.slice.call(arguments,1),g=Object.prototype.toString;return F.length?(F=1==F.length&&null!==c&&/\[object Array\]|\[object Object\]/.test(g.call(c))?c:F,a.replace(/#\{(.+?)\}/g,function(a,c){var v=F[c];return"[object Function]"==g.call(v)&&(v=v(c)),"undefined"==typeof v?"":v})):a},tipheader:"Lagou Passport v"+v+" -> ",tip:function(){if(g){var a=arguments[0],c=Array.prototype.slice.call(arguments,1);console[a].apply(console,c)}},tinfo:function(a){D.tip("info",D.tipheader+a)}};D.tinfo("Enter passport...");var A=function(){function a(){}var c=a.prototype;return c._getEvents=function(){return this._events||(this._events={}),this._events},c._getMaxListeners=function(){return isNaN(this.maxListeners)&&(this.maxListeners=10),this.maxListeners},c.on=function(a,c){var F=this._getEvents(),g=this._getMaxListeners();F[a]=F[a]||[];var v=F[a].length;if(v>=g&&0!==g)throw new RangeError("Warning: possible Emitter memory leak detected. "+v+" listeners added.");return F[a].push(c),this},c.once=function(a,c){function F(){g.off(a,F),c.apply(this,arguments)}var g=this;return F.listener=c,this.on(a,F),this},c.off=function(a,c){var F=this._getEvents();if(0===arguments.length)return this._events={},this;var g=F[a];if(!g)return this;if(1===arguments.length)return delete F[a],this;for(var v,i=0;i<g.length;i++)if(v=g[i],v===c||v.listener===c){g.splice(i,1);break}return this},c.emit=function(a){var c=this._getEvents(),F=c[a],g=Array.prototype.slice.call(arguments,1);if(F){F=F.slice(0);for(var i=0,v=F.length;v>i;i++)F[i].apply(this,g)}return this},c.listeners=function(a){var c=this._getEvents();return c[a]||[]},c.setMaxListeners=function(a){return this.maxListeners=a,this},a.mixin=function(c){for(var F in a.prototype)c[F]=a.prototype[F];return c},a}(),C=function(){var a=!1;try{a=!(!$||!jQuery)}catch(e){a=!1}return a}(),P=function(){return!(!C||!$("body").validate)}(),S=function(){return!(!C||!$.colorbox)}(),L=function(){return!!JSON.stringify}(),O=function(){return!(!O||!lg)}();D.tinfo("Has$: "+C),D.tinfo("HasValidate: "+P),D.tinfo("HasCb: "+S),D.tinfo("HasLagou: "+O),D.tinfo("HasJsf: "+L);var T=!1;!function(){var a={};!C&&(a[j.jq]=!1),!P&&(a[j.jqv]=!1),!O&&(a[j.lagou]=!1),!S&&(a[j.cb]=!1),!L&&(a[j.jsf]=!1);var F=function(){for(var c in a)if(!a[c])return!1;return!0},g=function(g){D.tinfo("Load "+g+"..."),LazyLoad.js(g,function(){a[g]=!0,D.tinfo("Load "+g+" success!"),F()&&c()})};for(var v in a)g(v)}();var k=new A,R=function(a){return function(){var c=70,F=arguments;T?a.apply(null,F):window.setTimeout(function(){F.callee.apply(null,F)},c)}},E=!1;E||LazyLoad.css(w.popup,function(){E=!0,D.tinfo("Load popup style success!")});var z=function(){var a=D.getCurEncodeUrl(),c=b.server;$.colorbox({html:'<div id="loginPop" class="popup" style="height:240px;"><form id="login_form_popup" action="javascript:;" method="post"  data-view="loginView"><div data-propertyname="username" data-controltype="Phone"><input type="text" id="email" name="email" tabindex="1" placeholder="请输入已验证手机/邮箱"></div><div data-propertyname="password" data-controltype="Password"><input type="password" id="password" name="password" tabindex="2" placeholder="请输入密码"></div><div class="input_item clearfix"  data-propertyname="request_form_verifyCode" data-controltype="VerifyCode" style="display:none;clear: both;"><input type="text" class="input input_white fl" style="width:150px;font-size: 16px;display:block;" name="" placeholder="请证明你不是机器人" data-required="required" autocomplete="off" ><img src="" alt="" class="yzm"><a href="javascript:;" class="reflash"></a></div><label class="fl" for="remember" style="display:none"><input type="checkbox" id="remember"  value="" checked="checked" name="autoLogin"> 记住我</label><a class="fr" href="'+c+'/accountPwd/toReset.html">忘记密码？</a><div data-propertyname="submit" data-controltype="Botton"><input type="button" id="submitLogin" value="登 &nbsp; &nbsp; 录"></div></form><div class="login_right"><div>还没有拉勾帐号？</div><a href="'+c+'/register/register.html" class="registor_now">立即注册</a><div class="login_others">使用以下帐号直接登录:</div><a href="'+c+"/oauth20/auth_sinaWeiboProvider.html?service="+a+'" target="_blank" id="icon_wb" class="icon_wb" title="使用新浪微博帐号登录"></a><a href="'+c+"/oauth20/auth_qqProvider.html?service="+a+'" class="icon_qq" id="icon_qq" target="_blank" title="使用腾讯QQ帐号登录"></a><a href="'+c+"/oauth20/auth_weixinProvider.html?service="+a+'" class="icon_weixin" id="icon_weixin" target="_blank" title="使用腾讯QQ帐号登录"></a></div></div>',title:"登录"});new lg.Views.BaseView({name:"loginView",fields:[{name:"username",validRules:[{mode:"require",data:"",message:"请输入已验证手机/邮箱",trigger:"blur"},{mode:"pattern",isUse:!0,status:!1,data:{phone:/^(0|86|17951)?((13[0-9]|15[012356789]|17[0135678]|18[0-9]|14[57])[0-9]{8})$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i},message:"请输入有效的手机/邮箱"}],controlType:"Phone"},{name:"password",validRules:[{mode:"require",data:"",message:"请输入密码"},{mode:"pattern",data:"/^[\\S\\s]{6,16}$/",message:"请输入6-16位密码，字母区分大小写"}],controlType:"Password"},{name:"request_form_verifyCode",isVisible:!1,validRules:[],from:"register",url:"https://passport.lagou.com/vcode/create",controlType:"VerifyCode"},{name:"submit",validRules:[],controlType:"Button",url:"/login/login.json",click:function(e){var a=e,c=a.parent.CollectData(),F="veenike";if(c.isValidate){c.password=md5(c.password),c.password=md5(F+c.password+F);var g=$("#remember",$("body #colorbox #login_form_popup"));g.val(g.prop("checked")?1:null);var v=g.val(),h=void 0==v||null==v?!1:1==v?!0:!1;c.rememberMe=h,$.ajax({url:a.control._option.url,data:c,url:b.server+b.poplogin,dataType:"jsonp",jsonp:"jsoncallback"}).done(function(c){var F={1:{message:"成功",linkFor:"password",level:"info"},210:{message:"请输入有效的手机/邮箱",linkFor:"username",level:"error"},211:{message:"请输入6-16位密码，字母区分大小写",linkFor:"password",level:"error"},220:{message:"请输入有效的手机/邮箱",linkFor:"username",level:"error"},240:{message:"请输入已验证手机/邮箱",linkFor:"username",level:"error"},241:{message:"请输入密码",linkFor:"password",level:"error"},299:{message:"你的操作太过频繁，请稍后再试",linkFor:"password",level:"error"},400:{message:"帐号和密码不匹配",linkFor:"password",level:"error"},500:{message:"登录失败,系统内部异常",linkFor:"password",level:"error"},10010:{message:"验证码不正确",linkFor:"request_form_verifyCode",level:"error"},10011:{message:"操作太频繁",linkFor:"password",level:"error"},10012:{message:"系统错误",linkFor:"password",level:"error"}};if(F[c.state]&&1!=c.state&&a.parent.field[F[c.state].linkFor].showMessage({message:F[c.state].message}),10010!=c.state||a.parent.field.request_form_verifyCode.getIsVisible()||(a.parent.field.request_form_verifyCode.getVerifyCode(),a.parent.field.request_form_verifyCode.setVisible(!0)),"info"==F[c.state].level&&1==c.state){var g=D.getCurEncodeUrl(),v=D.getTargetUrl(b.server+b.poptransfer,{fl:"2",service:g,osc:"PASSPORT._pscb("+_+")",ofc:"PASSPORT._pfcb("+_+")"});D.createIframe("popup_login_iframe",v)}else a.parent.field.request_form_verifyCode.getVerifyCode()})}}}]})};window.PASSPORT=window.PASSPORT||{on:function(){k.on.apply(k,arguments)},auto:R(function(){var a=D.getCurEncodeUrl(),c=D.getTargetUrl(b.server+b.autologin,{fl:"1",service:a,osc:"PASSPORT._ascb("+_+")",ofc:"PASSPORT._afcb("+_+")"});D.createIframe("auto_login_iframe",c)}),_ascb:function(a,c){D.tinfo("Call of PASSPORT._ascb"+a+": "+c),k.emit("autologin:succ",c),F("auto_login_iframe",a)},_afcb:function(a,c){D.tinfo("Call of PASSPORT._afcb"+a+": "+c),k.emit("autologin:fail",c),F("auto_login_iframe",a)},popup:R(function(){z()}),_pscb:function(a,c){D.tinfo("Call of PASSPORT._pscb"+a+": "+c),k.emit("popuplogin:succ",c),F("popup_login_iframe",a)},_pfcb:function(a,c){D.tinfo("Call of PASSPORT._pfcb"+a+": "+c),k.emit("popuplogin:fail",c),F("popup_login_iframe",a)},remote:R(function(a,c,F){D.tinfo("Remote request: "+a+" "+c+" "+F),h.remote[_]={},c&&(h.remote[_].succ=c),F&&(h.remote[_].fail=F),D.tinfo("Remote request put into callbacks: "+JSON.stringify(h.remote));var g=D.getTargetUrl(b.server+b.autologin,{fl:"3",service:a,osc:"PASSPORT._rscb("+_+")",ofc:"PASSPORT._rfcb("+_+")"});D.createIframe("remote_login_iframe",g)}),_rscb:function(a,c){D.tinfo("Call of PASSPORT._rscb"+a+": "+c),k.emit("remotelogin:succ",c),F("remote_login_iframe",a),h.remote[a]&&h.remote[a].succ&&h.remote[a].succ(c)},_rfcb:function(a,c){D.tinfo("Call of PASSPORT._rfcb"+a+": "+c),k.emit("remotelogin:fail",c),F("remote_login_iframe",a),h.remote[a]&&h.remote[a].fail&&h.remote[a].fail(c)},util:{rpc:R(D.rpc),tinfo:R(D.tinfo)}}});