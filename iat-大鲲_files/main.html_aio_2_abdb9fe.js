/*!myself/modules/preview-base/main.js*/
;define("myself/modules/preview-base/main",["require","exports","module","common/components/util/util","common/widgets/common/config","dep/vuex/dist/vuex.min","myself/modules/store/main"],function(require){"use strict";var a=require("common/components/util/util"),c=require("common/widgets/common/config"),_=require("dep/vuex/dist/vuex.min"),j=require("myself/modules/store/main"),v=new Vue({el:".face_container",data:{head_img:""}}),w=(new Vue({el:".profile_base",data:{user_id:global.preview_id,view:{join_id:1,join_type:"",nick_name:"",position_sign:"",second_type:[],work_city:"",work_years:"",gender:0},join_list:["自由职业","兼职","团队/工作室"],order_status:"",head_img:""},created:function(){var c=this;a.customAjax({vm:c,url:"/user/userDetail.json",data:{userId:global.preview_id},success:function(a){a.positionList||[];c.view.join_id=a.freedom||1,c.view.join_type=c.join_list[c.view.join_id-1],c.view.nick_name=a.nickName,c.view.second_type=a.positionList||[],c.view.position_sign=a.userTitle,c.view.work_city=a.city,c.view.work_years=a.jobExperience,c.view.gender=a.sex||0,a.headImgUrl&&(v.head_img=GLOBAL_DOMAIN.imgURL+"/"+a.headImgUrl),c.order_status=a.status,w.view_profile_desc=a.aboutMe,g.day_price=a.salary||0,g.order_count=a.finishProjectCount||0,g.grade=a.avgScore||0,g.time_quality=a.deliverRate||"0%",g.over_quality=a.qualityRate||"0%",g.personal_quality=a.allRate||"0%",g.comment_label_list=a.evaluateLabelList||[]},error:function(a){1016!==a.errCode&&alert(a.errMsg)}})}}),new Vue({el:".profile_aboutme",data:{view_profile_desc:""}})),g=new Vue({el:".profile_sidebar",data:{day_price:0,order_count:0,grade:0,time_quality:"0%",over_quality:"0%",personal_quality:"0%",comment_label_list:[]},computed:_.mapState({comment:function(a){return a.viewData.comment}}),store:j,methods:{employ:function(){var _=this;0===GLOBAL_DOMAIN.userId?c.showTips("请登录后再进行操作"):global.preview_id===GLOBAL_DOMAIN.userId?c.showTips("不能雇佣自己"):a.customAjax({vm:_,url:"/project/getPublishProjectName.json",success:function(a){var _=!1;if(a.projectList&&a.projectList.length>0){for(var i=0,j=a.projectList.length;j>i;i++)if(a.projectList[i].projectId===global.project_id){_=!0;break}location.href=global.project_id>0&&_?"/project/hireExpert.html?userId="+global.preview_id+"&jobId="+global.project_id:"/project/hireExpert.html?userId="+global.preview_id+"&jobId="+a.projectList[0].projectId}else c.showTips("您还没有在招募中的项目哦，麻溜儿去发布吧")}})},sendMsg:function(){var _=this;0===GLOBAL_DOMAIN.userId?c.showTips("请登录后再进行操作"):"true"!==GLOBAL_DOMAIN.isBindPhone?c.showTips("请绑定手机后再进行操作"):global.preview_id===GLOBAL_DOMAIN.userId?c.showTips("不能给自己发送消息"):global.project_id>0?a.customAjax({vm:_,url:"/project/getProjectDetail.json",data:{projectId:global.project_id},success:function(a){"待审核"===a.status?c.showTips("该项目尚未通过审核，通过审核后即可发送消息"):c.createSession({toUserId:global.preview_id,projectId:global.project_id})}}):c.createSession({toUserId:global.preview_id,projectId:global.project_id})}}})});
/*!myself/modules/apply-letter/main.js*/
;define("myself/modules/apply-letter/main",["require","exports","module","common/components/util/util","common/widgets/common/config"],function(require){"use strict";var c=require("common/components/util/util"),a=require("common/widgets/common/config");"apply"===global.label&&GLOBAL_DOMAIN.userId&&new Vue({el:"#apply_letter",data:{expect_price:0,letter_txt:"",has_data:!1},created:function(){var g=this;setTimeout(function(){global.project_id&&c.customAjax({vm:g,url:"/project/getProjectApply.json",data:{userId:global.preview_id,projectId:global.project_id},success:function(c){g.expect_price=c.price,g.letter_txt=c.applyDesc,g.has_data=!0},error:function(c){1024===c.errCode?a.showTips(c.errMsg):alert(c.errMsg)}})},500)}})});
/*!myself/modules/preview-additional/main.js*/
;define("myself/modules/preview-additional/main",["require","exports","module","common/components/util/util","dep/jquery-colorbox/jquery.colorbox"],function(require){"use strict";var c=require("common/components/util/util");require("dep/jquery-colorbox/jquery.colorbox");var a=(new Vue({el:".profile_technic",data:{view_technic:[]},created:function(){var v=this;c.customAjax({vm:v,url:"/user/userDetail.json",data:{userId:global.preview_id},success:function(_){_.skillList&&_.skillList.length>0&&(v.view_technic=c.baseArr2mapArr(_.skillList)),_.caseList&&_.caseList.length>0&&(a.product_list=_.caseList)},error:function(c){1016!==c.errCode&&console.log(c)}})}}),new Vue({el:".profile_production",data:{product_list:[]}}));$(document).on("click",".product_item dt",function(){var c=new Image;c.src=$(this).data("source_url"),c.onload=function(){$.colorbox({inline:!0,href:"#preview_picture",scrolling:!1,overlayClose:!0,closeButton:!1})},$("#preview_picture .main_preview")[0].src=c.src}),$(document).on("click",".close_btn",function(){$.colorbox.close()})});
/*!myself/modules/bottom-comment/main.js*/
;define("myself/modules/bottom-comment/main",["require","exports","module","common/components/util/util","dep/vuex/dist/vuex.min","myself/modules/store/main"],function(require){"use strict";function a(a){c.customAjax({vm:a,url:"/user/getEvaluateList.json",data:{userId:window.global&&global.preview_id||GLOBAL_DOMAIN.userId,pageId:a.current_page,total:5},success:function(c){a.ok_label_list.length||(a.ok_label_list=c.highPraiseList||[],a.no_label_list=c.lowPraiseList||[],a.$store.dispatch("updateStoreViewData",{comment:{count:c.evaluateCount,firstComment:c.evaluateCount?c.evaluateList[0]:{}}})),c.evaluateList=c.evaluateList||[],a.total_count=c.evaluateCount||0,a.total_count>0&&(a.has_data=!0,c.evaluateList.forEach(function(a){a.price=parseInt(a.price)})),a.list=a.list.concat(c.evaluateList)}})}{var c=require("common/components/util/util"),_=(require("dep/vuex/dist/vuex.min"),require("myself/modules/store/main"));new Vue({el:"#bottom_comment",data:{total_count:0,ok_label_list:[],no_label_list:[],list:[],current_page:1,has_data:!1},computed:{hasMore:function(){return this.total_count>this.list.length}},store:_,methods:{loadMore:function(){this.current_page++,a(this,this.current_page)}},created:function(){a(this,this.current_page)}})}});
/*!myself/page/preview/main.js*/
;define("myself/page/preview/main",["require","exports","module","myself/modules/top-submit/main","myself/modules/preview-base/main","myself/modules/apply-letter/main","myself/modules/preview-additional/main","myself/modules/bottom-comment/main"],function(require){require("myself/modules/top-submit/main"),require("myself/modules/preview-base/main"),require("myself/modules/apply-letter/main"),require("myself/modules/preview-additional/main"),require("myself/modules/bottom-comment/main")});